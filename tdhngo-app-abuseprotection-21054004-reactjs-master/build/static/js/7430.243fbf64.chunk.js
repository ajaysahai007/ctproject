"use strict";(self.webpackChunkneed_a_web_developer_21043817=self.webpackChunkneed_a_web_developer_21043817||[]).push([[7430],{2703:function(e,t,a){a.d(t,{UC:function(){return i},jF:function(){return o}});var r=a(72426),n=a.n(r);function i(e){return"".concat(null===e||void 0===e?void 0:e.slice(0,6),"...").concat(null===e||void 0===e?void 0:e.slice(e.length-4))}var o=function(e){var t=new Date(e);return n()(t).format("DD-MMM-yyyy hh:mm a")}},97430:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var r=a(74165),n=a(15861),i=a(29439),o=a(4942),s=a(72791),l=a(38596),c=a(41971),d=a(38302),m=a(17447),u=a(13712),x=a(1288),h=a(67025),p=a(66828),g=a(29403),Z=a(51859),j=a(76782),f=a(89431),v=a(76863),y=a(78845),N=a(26513),b=a(92506),C=a(23853),S=(a(2703),a(79271)),B=(a(56960),a(74569)),w=a.n(B),k=a(52688),_=(a(5282),a(80184)),E=(0,l.Z)((function(e){return{NftBreed:{padding:"23px 0 "},formControl:{minWidth:120,width:"100%"},main:{border:"1px solid #F38500",padding:"40px",borderRadius:"15px",backgroundColor:"#FEDDB6"},divider:{marginTop:"10px",background:"#F38500"},textField:{maxWidth:"100%"},image:{cursor:"pointer"},upload:{height:"250px",margin:"16px 0",cursor:"pointer",borderRadius:"20px",position:"relative","& img":{width:"100%",height:"100%",border:"1px solid #F38500",objectFit:"cover"},"& button":{position:"absolute",border:"3px solid black",bottom:0,right:0,backgroundColor:"#fff",color:"#000",fontSize:"15px","&:hover":{backgroundColor:"#fff",border:"3px solid black"},"& input":{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",opacity:0}}},devicelistHeading:{display:"flex",justifyContent:"start",alignItems:"center","& h3":{padding:"1rem 0",color:e.palette.text.black},"& .icon1":(0,o.Z)({height:"20px",paddingRight:"20px"},e.breakpoints.only("xs"),{width:"50px",height:"8px",paddingRight:"7px"}),"& .icon2":(0,o.Z)({height:"20px",paddingLeft:"20px"},e.breakpoints.only("xs"),{width:"50px",height:"8px",paddingLeft:"7px"})},newbtn:{"@media(max-width:400px)":{marginTop:"10px"}}}}));function q(){var e=E(),t=(0,S.k6)(),a=((0,s.useRef)(null),(0,s.useState)("")),o=(0,i.Z)(a,2),l=(o[0],o[1],(0,s.useState)("")),B=(0,i.Z)(l,2),q=(B[0],B[1],(0,s.useState)()),F=(0,i.Z)(q,2),I=(F[0],F[1],(0,S.TH)()),L=(0,s.useState)(null),P=(0,i.Z)(L,2),T=P[0],R=P[1];console.log("_imageurl-----aaa",T);var D=(0,s.useState)("Select"),M=(0,i.Z)(D,2),O=M[0];M[1];console.log("location---\x3e>12",O);var A=I.state,z=null===A||void 0===A?void 0:A.id;console.log("asdasdadad",z);null===A||void 0===A||A.logo;var W=I.search.split("?")[1];console.log("Locations key is >>",W);var H=(0,s.useState)(""),U=(0,i.Z)(H,2),Y=U[0],V=U[1];console.log("_imageurl---\x3e>",Y);var J=(0,s.useState)(""),G=(0,i.Z)(J,2),K=G[0];G[1];console.log("base64Img----\x3e>>11",K);var Q={category:"",locationName:"",contactnumber:"",district:"",stateName:"",image:""},X=(0,s.useState)(Q),$=(0,i.Z)(X,2),ee=$[0];$[1];console.log("_viewDetails11111---\x3e>",ee);var te=v.Ry().shape({category:v.Z_().required(" District is required"),locationName:v.Z_().required("location name is required").min(2,"Please enter at least 2 characters").max(35,"You can enter only 35 characters"),district:v.Z_().required(" district name is required").min(2,"Please enter at least 2 characters").max(35,"You can enter only 35 characters"),stateName:v.Z_().required(" state name name is required").min(2,"Please enter at least 2 characters").max(35,"You can enter only 35 characters"),contactnumber:v.Z_().required("contact number is required").min(2,"Please enter at least 2 characters").max(10,"You can enter only 10 characters")}),ae=window.sessionStorage.getItem("token"),re=(0,s.useState)(""),ne=(0,i.Z)(re,2),ie=ne[0],oe=(ne[1],(0,s.useState)(!1)),se=(0,i.Z)(oe,2),le=se[0],ce=se[1],de=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(a){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values111--\x3e",a),(n=new FormData).append("emergencyType",a.category),n.append("location",a.locationName),n.append("contactNumber",a.contactnumber),n.append("district",a.district),n.append("state",a.stateName),n.append("image",null===T?Y:T),e.prev=8,ce(!0),e.next=12,w()({url:k.Z.addEmergency,method:"POST",data:n,headers:{token:ae}});case 12:(i=e.sent)&&(ce(!1),t.push("/emergencyMgmt"),console.log("res--qqqq>>",i)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),ce(!1),console.log("error--\x3e>",e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)(c.Z,{className:e.NftBreed,children:[le?(0,_.jsx)(y.Z,{}):"",(0,_.jsx)(c.Z,{className:e.devicelistHeading,children:(0,_.jsx)(d.Z,{variant:"h1",className:"headingText",children:"Add Emergency Details"})}),(0,_.jsx)(m.Z,{className:e.divider}),(0,_.jsx)(u.Z,{maxWidth:"md",children:(0,_.jsx)(b.J9,{initialValues:Q,initialStatus:{success:!1,successMsg:""},enableReinitialize:!0,validationSchema:te,onSubmit:function(e){return de(e)},children:function(a){var r=a.errors,n=a.handleBlur,i=a.handleChange,o=a.handleSubmit,s=a.touched,l=a.values;a.setFieldValue;return(0,_.jsxs)(b.l0,{onSubmit:o,children:[console.log("Sadqeqacc",l),(0,_.jsxs)(c.Z,{mt:5,mb:2,className:e.main,children:[(0,_.jsxs)(x.Z,{container:!0,spacing:2,children:[(0,_.jsx)(x.Z,{item:!0,md:12,sm:12,lg:12,xs:12,children:(0,_.jsx)(c.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,_.jsxs)(c.Z,{children:[(0,_.jsxs)("figure",{className:e.upload,children:[(0,_.jsx)("img",{src:Y||"/images/plusIcon.png"}),(0,_.jsxs)(h.Z,{children:[(0,_.jsx)(C.Yjd,{}),(0,_.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){R(e.target.files[0]),V(URL.createObjectURL(e.target.files[0]))}})]})]}),(0,_.jsx)(c.Z,{className:e.imgsec,children:(0,_.jsx)(d.Z,{variant:"h6",color:"primary",children:"Please select image"})})]})})}),(0,_.jsx)(x.Z,{item:!0,md:12,sm:12,lg:12,xs:12,className:e.image,children:(0,_.jsx)(c.Z,{children:(0,_.jsx)("form",{className:"formBox p-0",autoComplete:"off",children:(0,_.jsx)(p.Z,{variant:"outlined",className:e.formControl,children:(0,_.jsxs)(c.Z,{mt:2,children:[(0,_.jsx)(d.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"Emergency Type :"}),(0,_.jsxs)(p.Z,{variant:"outlined",className:e.formControl,children:[(0,_.jsx)(c.Z,{children:(0,_.jsxs)(g.Z,{name:"category",labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",error:Boolean(s.category&&r.category),onBlur:n,onChange:i,value:l.category,style:{width:"100%"},children:[(0,_.jsx)(Z.Z,{value:"Select",children:"Select Category"}),(0,_.jsx)(Z.Z,{value:"FIRE",children:"FIRE"}),(0,_.jsxs)(Z.Z,{value:"POLICE_STATION",children:[" ","POLICE_STATION"]}),(0,_.jsx)(Z.Z,{value:"AMBULANCE",children:"AMBULANCE"}),(0,_.jsx)(Z.Z,{value:"WOMEN_HELPLINE",children:"WOMEN_HELPLINE"})]})}),(0,_.jsx)(j.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:s.category&&r.category})]})]})})})})}),(0,_.jsx)(x.Z,{item:!0,md:12,sm:12,lg:12,xs:12,className:e.image,children:(0,_.jsx)(c.Z,{children:(0,_.jsx)("form",{className:"formBox p-0",autoComplete:"off",children:(0,_.jsx)(p.Z,{variant:"outlined",className:e.formControl,children:(0,_.jsxs)(c.Z,{mt:2,children:[(0,_.jsx)(d.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"Location Name :"}),(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(f.Z,{variant:"outlined",name:"locationName",type:"text",value:l.locationName,error:Boolean(s.locationName&&r.locationName),onBlur:n,onChange:i,placeholder:"Please enter location",className:e.textField}),(0,_.jsx)(j.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:s.locationName&&r.locationName})]})})]})})})})}),(0,_.jsx)(x.Z,{item:!0,md:12,sm:12,lg:12,xs:12,className:e.image,children:(0,_.jsx)(c.Z,{children:(0,_.jsx)("form",{className:"formBox p-0",autoComplete:"off",children:(0,_.jsx)(p.Z,{variant:"outlined",className:e.formControl,children:(0,_.jsx)(c.Z,{mt:1,children:(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(d.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"District :"}),(0,_.jsx)(f.Z,{readOnly:!0,variant:"outlined",name:"district",error:Boolean(s.district&&r.district),onBlur:n,onChange:i,placeholder:"district",value:null===ie||void 0===ie?void 0:ie.location}),(0,_.jsx)(j.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:s.district&&r.district})]})})})})})}),(0,_.jsx)(x.Z,{item:!0,md:12,sm:12,lg:12,xs:12,className:e.image,children:(0,_.jsx)(p.Z,{variant:"outlined",className:e.formControl,children:(0,_.jsxs)(c.Z,{mt:1,children:[(0,_.jsx)(d.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"State :"}),(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(f.Z,{variant:"outlined",name:"stateName",type:"text",value:l.stateName,error:Boolean(s.stateName&&r.stateName),onBlur:n,onChange:i,placeholder:"Please enter state",className:e.textField}),(0,_.jsx)(j.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:s.stateName&&r.stateName})]})]})})}),(0,_.jsx)(x.Z,{item:!0,md:12,sm:12,lg:12,xs:12,className:e.image,children:(0,_.jsx)(c.Z,{children:(0,_.jsx)("form",{className:"formBox p-0",autoComplete:"off",children:(0,_.jsx)(p.Z,{variant:"outlined",className:e.formControl,children:(0,_.jsxs)(c.Z,{mt:1,children:[(0,_.jsx)(d.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"Contact Number :"}),(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(f.Z,{variant:"outlined",name:"contactnumber",type:"number",value:l.contactnumber,error:Boolean(s.contactnumber&&r.contactnumber),onBlur:n,onChange:i,placeholder:"Please enter contact number",className:e.textField}),(0,_.jsx)(j.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:s.contactnumber&&r.contactnumber})]})]})})})})})]}),(0,_.jsxs)(c.Z,{style:{marginTop:"25px",display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:" center"},children:[(0,_.jsx)(N.Z,{variant:"contained",color:"secondary",onClick:function(){return t.push("/emergencyMgmt")},className:e.newbtn,children:"Back"}),"\xa0\xa0",(0,_.jsx)(c.Z,{children:(0,_.jsx)(N.Z,{variant:"contained",type:"submit",color:"primary",children:"Add Emergency"})})]})]})]})}})})]})}}}]);
//# sourceMappingURL=7430.243fbf64.chunk.js.map