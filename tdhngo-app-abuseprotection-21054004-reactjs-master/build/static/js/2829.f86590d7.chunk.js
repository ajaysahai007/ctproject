"use strict";(self.webpackChunkneed_a_web_developer_21043817=self.webpackChunkneed_a_web_developer_21043817||[]).push([[2829],{12829:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(74165),a=r(15861),i=r(29439),o=r(4942),l=r(72791),s=r(38596),d=r(41971),c=r(38302),u=r(17447),p=r(13712),m=r(1288),g=r(67025),x=r(66828),h=r(89431),v=r(76782),y=r(76863),f=r(26513),j=r(92506),Z=r(23853),b=(r(2703),r(79271)),N=(r(56960),r(74569)),w=r.n(N),C=r(52688),k=(r(5282),r(78845)),S=r(80184),F=(0,s.Z)((function(e){return{ctaegoryDescription:{border:"1px solid #f38500",padding:"10px",borderRadius:"5px"},NftBreed:{padding:"23px 0 "},formControl:(0,o.Z)({margin:e.spacing(1),minWidth:120,width:"100%"},"margin","0 10px"),main:{border:"1px solid #F38500",padding:"40px",borderRadius:"15px",backgroundColor:"#FEDDB6"},divider:{marginTop:"10px",background:"#F38500"},textField:{maxWidth:"100%"},image:{cursor:"pointer"},upload:{height:"250px",margin:"16px 0",cursor:"pointer",borderRadius:"20px",position:"relative","& img":{width:"100%",height:"100%",border:"1px solid #F38500",objectFit:"cover"},"& button":{position:"absolute",border:"3px solid black",bottom:0,right:0,backgroundColor:"#fff",color:"#000",fontSize:"15px","&:hover":{backgroundColor:"#fff",border:"3px solid black"},"& input":{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",opacity:0}}},devicelistHeading:{display:"flex",justifyContent:"start",alignItems:"center","& h3":{padding:"1rem 0",color:e.palette.text.black},"& .icon1":(0,o.Z)({height:"20px",paddingRight:"20px"},e.breakpoints.only("xs"),{width:"50px",height:"8px",paddingRight:"7px"}),"& .icon2":(0,o.Z)({height:"20px",paddingLeft:"20px"},e.breakpoints.only("xs"),{width:"50px",height:"8px",paddingLeft:"7px"})},newbtn:{"@media(max-width:400px)":{marginTop:"10px"}}}}));function _(e){var t,r=F(),s=(0,b.k6)(),N=(0,l.useState)(null),_=(0,i.Z)(N,2),B=_[0],P=_[1];console.log("_imageurl111====>",B);var R=(0,l.useState)(""),D=(0,i.Z)(R,2),I=D[0],T=D[1],V=(0,l.useState)(""),A=(0,i.Z)(V,2),L=A[0],M=A[1],U=((0,l.useRef)(null),(0,l.useState)("")),q=(0,i.Z)(U,2),z=q[0],O=q[1];console.log("_description11111--\x3e>",z);var E=(0,l.useState)(""),W=(0,i.Z)(E,2),Y=(W[0],W[1],(0,l.useState)("")),H=(0,i.Z)(Y,2),G=(H[0],H[1],(0,l.useState)()),J=(0,i.Z)(G,2),K=(J[0],J[1],(0,b.TH)()),Q=K.state,X=null===Q||void 0===Q?void 0:Q.id,$=K.search;console.log("asdasdadad",$);var ee=null===Q||void 0===Q?void 0:Q.logo,te=K.search.split("?")[1];console.log("Locations key is >>",te);var re=(0,l.useState)(!1),ne=(0,i.Z)(re,2),ae=ne[0],ie=ne[1],oe=(0,l.useState)(""),le=(0,i.Z)(oe,2),se=(le[0],le[1]);(0,l.useEffect)((function(){ee&&se(ee)}),[ee]);var de=(0,l.useState)((t={coverPic:"",profilePic:""},(0,o.Z)(t,"profilePic",""),(0,o.Z)(t,"coverPic",""),t)),ce=(0,i.Z)(de,2),ue=(ce[0],ce[1],(0,l.useState)({categoryName:"",description:"",_imageurl:""})),pe=(0,i.Z)(ue,2),me=pe[0],ge=pe[1];console.log("_prefield---\x3e>",me);window.sessionStorage.getItem("token");var xe=y.Ry().shape({categoryName:y.Z_().required(" Category name is required").min(2,"Please enter at least 2 characters").max(35,"You can enter only 35 characters"),description:y.Z_().required(" Description is required").min(2,"Please enter at least 2 characters").max(35,"You can enter only 35 characters")}),he=(0,l.useState)(),ve=(0,i.Z)(he,2),ye=ve[0],fe=ve[1];console.log("_viewctagory11111--\x3e>",ye);var je=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a,i,o,l,s,d,c,u,p,m,g,x,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w()({url:C.Z.viewCategory,method:"GET",params:{_id:X},headers:{token:window.sessionStorage.getItem("token")}});case 3:(t=e.sent)&&(fe(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.result),console.log("ViewCategoryFunction ---\x3e>",t),h={categoryName:null===t||void 0===t||null===(a=t.data)||void 0===a||null===(i=a.result)||void 0===i?void 0:i.name,description:null===t||void 0===t||null===(o=t.data)||void 0===o||null===(l=o.result)||void 0===l?void 0:l.description,_imageurl:null===t||void 0===t||null===(s=t.data)||void 0===s||null===(d=s.result)||void 0===d?void 0:d.image},O(null===t||void 0===t||null===(c=t.data)||void 0===c||null===(u=c.result)||void 0===u?void 0:u.description),ge(h),P(null===t||void 0===t||null===(p=t.data)||void 0===p||null===(m=p.result)||void 0===m?void 0:m.image),M(null===t||void 0===t||null===(g=t.data)||void 0===g||null===(x=g.result)||void 0===x?void 0:x.image)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error ---\x3e>",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ze=(0,l.useState)(),be=(0,i.Z)(Ze,2),Ne=be[0];be[1];console.log("_editcategory99999",Ne);var we=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),r="Add"===te?C.Z.addCategory:C.Z.editCategory,console.log("debugger"),(a=new FormData).append("name",t.categoryName),a.append("description",t.description),a.append("image",null===B?I:B),e.prev=7,e.next=10,w()({url:r,method:"Add"===te?"POST":"PUT",headers:{token:window.sessionStorage.getItem("token")},data:a,params:{_id:X}});case 10:e.sent&&(ie(!1),s.push("./categoryMgmt")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),ie(!1),console.log("error---\x3e>>",e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){je()}),[]),(0,S.jsxs)(d.Z,{className:r.NftBreed,children:[ae?(0,S.jsx)(k.Z,{}):"",(0,S.jsx)(d.Z,{className:r.devicelistHeading,children:(0,S.jsx)(c.Z,{variant:"h1",className:"headingText",children:"".concat(te," Category")})}),(0,S.jsx)(u.Z,{className:r.divider}),(0,S.jsx)(p.Z,{maxWidth:"md",children:(0,S.jsx)(j.J9,{initialValues:me,enableReinitialize:!0,initialStatus:{success:!1,successMsg:""},onSubmit:function(e){return we(e)},validationSchema:xe,children:function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,i=(e.handleSubmit,e.touched),o=e.values;e.setFieldValue;return(0,S.jsxs)(j.l0,{children:[console.log("Sadqeqacc",o),(0,S.jsxs)(d.Z,{mt:5,mb:2,className:r.main,children:[(0,S.jsxs)(m.Z,{container:!0,spacing:2,children:[(0,S.jsx)(m.Z,{item:!0,md:12,sm:12,lg:12,xs:12,children:(0,S.jsx)(d.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,S.jsxs)(d.Z,{children:["Add"===te?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("figure",{className:r.upload,children:[(0,S.jsx)("img",{src:I||"/images/plusIcon.png"}),(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(Z.Yjd,{}),(0,S.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){P(e.target.files[0]),T(URL.createObjectURL(e.target.files[0]))}})]})]})}):"View"===te?(0,S.jsx)("figure",{className:r.upload,children:(0,S.jsx)("img",{src:null!==ye&&void 0!==ye&&ye.image?null===ye||void 0===ye?void 0:ye.image:"/images/mentalIll.png"})}):(0,S.jsxs)("figure",{className:r.upload,children:[(0,S.jsx)("img",{src:I||L}),(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(Z.Yjd,{}),(0,S.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){P(e.target.files[0]),T(URL.createObjectURL(e.target.files[0]))}})]})]}),"Add"===te?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(d.Z,{className:r.imgsec,children:(0,S.jsx)(c.Z,{variant:"h6",color:"primary",children:"Please select image"})})}):"View"===te?(0,S.jsx)(d.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,S.jsx)(c.Z,{variant:"h6",color:"primary",children:"Category Image"})}):(0,S.jsx)(d.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,S.jsx)(c.Z,{variant:"h6",color:"primary",children:"Please select image"})})]})})}),(0,S.jsx)(m.Z,{item:!0,md:12,sm:12,lg:12,xs:12,className:r.image,children:(0,S.jsx)(d.Z,{children:(0,S.jsx)("form",{className:"formBox p-0",autoComplete:"off",children:(0,S.jsx)(m.Z,{container:!0,spacing:2,className:"BreedDetails",children:(0,S.jsx)(x.Z,{variant:"outlined",className:r.formControl,children:(0,S.jsx)(m.Z,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,S.jsxs)(d.Z,{mt:2,children:[(0,S.jsx)(c.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"Category Name :"}),"Add"===te?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(h.Z,{variant:"outlined",name:"categoryName",type:"text",value:o.categoryName,error:Boolean(i.categoryName&&t.categoryName),onBlur:n,onChange:a,placeholder:"Please enter category name",className:r.textField}),(0,S.jsx)(v.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:i.categoryName&&t.categoryName})]})}):"View"===te?(0,S.jsx)(d.Z,{children:(0,S.jsx)(h.Z,{readOnly:!0,variant:"outlined",inputProps:{readOnly:"true"},value:null===ye||void 0===ye?void 0:ye.name})}):(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(h.Z,{variant:"outlined",name:"categoryName",type:"text",onBlur:n,onChange:a,value:o.categoryName,error:Boolean(i.categoryName&&t.categoryName),placeholder:"Please enter category name",className:r.textField}),(0,S.jsx)(v.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:i.categoryName&&t.categoryName})]})]})})})})})})}),(0,S.jsx)(m.Z,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,S.jsxs)(d.Z,{mt:2,children:[(0,S.jsx)(c.Z,{variant:"h5",color:"primary",style:{paddingBottom:"8px"},children:"Category Description :"}),"Add"===te?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{children:(0,S.jsx)(h.Z,{variant:"outlined",name:"description",type:"text",onBlur:n,onChange:a,value:o.description,error:Boolean(i.description&&t.description),placeholder:"Please enter category name",className:r.textField})}),(0,S.jsx)(v.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:i.description&&t.description})]}):"View"===te?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(d.Z,{children:(0,S.jsx)(h.Z,{variant:"outlined",inputProps:{readOnly:"true"},fullWidth:!0,"aria-readonly":!0,value:null===o||void 0===o?void 0:o.description,placeholder:"description",className:r.textField})})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{children:(0,S.jsx)(h.Z,{variant:"outlined",name:"description",type:"text",onBlur:n,onChange:a,value:o.description,error:Boolean(i.description&&t.description),placeholder:"Please enter category name",className:r.textField})}),(0,S.jsx)(v.Z,{error:!0,style:{margin:"0px",fontSize:"12px"},children:i.desc&&t.desc})]})]})})]}),(0,S.jsxs)(d.Z,{style:{marginTop:"25px",display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:" center"},children:["View"===te&&(0,S.jsx)(f.Z,{variant:"contained",color:"secondary",onClick:function(){return s.push("/categoryMgmt")},className:r.newbtn,children:"Back"}),"Edit"===te&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.Z,{variant:"contained",color:"primary",type:"button",className:r.newbtn,onClick:function(){return s.push("/categoryMgmt")},children:"Back"}),"\xa0 \xa0",(0,S.jsx)(f.Z,{variant:"contained",color:"primary",type:"submit",className:r.newbtn,children:"Update"})]}),"\xa0\xa0","Add"===te&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(d.Z,{children:(0,S.jsx)(f.Z,{variant:"contained",type:"submit",color:"primary",children:"Submit"})})})]})]})]})}})})]})}},2703:function(e,t,r){r.d(t,{UC:function(){return i},jF:function(){return o}});var n=r(72426),a=r.n(n);function i(e){return"".concat(null===e||void 0===e?void 0:e.slice(0,6),"...").concat(null===e||void 0===e?void 0:e.slice(e.length-4))}var o=function(e){var t=new Date(e);return a()(t).format("DD-MMM-yyyy hh:mm a")}}}]);
//# sourceMappingURL=2829.f86590d7.chunk.js.map